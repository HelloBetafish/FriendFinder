<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Survey</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Link to Bootstrap CDN -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">

  <!--Link to CSS-->
  <!-- <link rel="stylesheet" type="text/css" href="assets/css/style.css"> -->
  <!-- Favicon http://findicons.com/icon/260843/train_transportation -->
  <!-- <link rel="shortcut icon" href="assets/images/train_transportation.ico"> -->
</head>
<body>
  <div class="container-fluid">
    <div class="jumbotron text-center">
      <h1>Survey Time!</h1>
      <br>
      <a href="/" class="btn btn-lg btn-info" role="button">Home</a>
  	</div>
  </div>

  <div class="container">
  <form>
  	<div class="form-group">
  	  <h2>About You</h2>
  	  <label for="name">Name</label>
  	  <input type="name" class="form-control" id="name" aria-describedby="name" placeholder="Name">
  	</div>
  	<div class="form-group">
  	  <label for="name">Link to Photo Image (Required)</label>
  	  <input type="photo" class="form-control" id="photo" aria-describedby="photo" placeholder="Link to Photo">
  	</div>
  	<hr>
  	<div class="form-group">
      <!-- Questions from https://www.16personalities.com/free-personality-test -->
  	  <h2>Questions</h2>
  	  <h4>Describe yourself using the statements below <br>on a scale from 5 (Exactly me!) to 1 (Not at all 
  	  who I am!)</h4>
  	  <hr>
  	  <h3>Question 1</h3>
  	  <label for="q1">You do not mind being at the center of attention.</label>
      <select class="form-control" id="q1">
      	<option>5</option>
      	<option>4</option>
      	<option>3</option>
      	<option>2</option>
      	<option>1</option>
      </select>
    </div>
    <div class="form-group">
  	  <h3>Question 2</h3>
  	  <label for="q2">Your mind is always buzzing with unexplored ideas and plans.</label>
      <select class="form-control" id="q2">
      	<option>5</option>
      	<option>4</option>
      	<option>3</option>
      	<option>2</option>
      	<option>1</option>
      </select>
    </div>
    <div class="form-group">
  	  <h3>Question 3</h3>
  	  <label for="q3">People can rarely upset you.</label>
      <select class="form-control" id="q3">
      	<option>5</option>
      	<option>4</option>
      	<option>3</option>
      	<option>2</option>
      	<option>1</option>
      </select>
    </div>
    <div class="form-group">
  	  <h3>Question 4</h3>
  	  <label for="q4">Being able to develop a plan and stick to it is the most important part of every project.</label>
      <select class="form-control" id="q4">
      	<option>5</option>
      	<option>4</option>
      	<option>3</option>
      	<option>2</option>
      	<option>1</option>
      </select>
    </div>
    <div class="form-group">
  	  <h3>Question 5</h3>
  	  <label for="q5">You find it easy to stay relaxed and focused even when there is some pressure.</label>
      <select class="form-control" id="q5">
      	<option>5</option>
      	<option>4</option>
      	<option>3</option>
      	<option>2</option>
      	<option>1</option>
      </select>
    </div>
    <div class="form-group">
  	  <h2>Question 6</h2>
  	  <label for="q6">You often feel as if you have to justify yourself to other people.</label>
      <select class="form-control" id="q6">
      	<option>5</option>
      	<option>4</option>
      	<option>3</option>
      	<option>2</option>
      	<option>1</option>
      </select>
    </div>
    <div class="form-group">
  	  <h2>Question 7</h2>
  	  <label for="q7">Your dreams tend to focus on the real world and its events.</label>
      <select class="form-control" id="q7">
      	<option>5</option>
      	<option>4</option>
      	<option>3</option>
      	<option>2</option>
      	<option>1</option>
      </select>
    </div>
    <div class="form-group">
  	  <h2>Question 8</h2>
  	  <label for="q8">You believe that it is more rewarding to be liked by others than to be powerful.</label>
      <select class="form-control" id="q8">
       	<option>5</option>
      	<option>4</option>
      	<option>3</option>
      	<option>2</option>
      	<option>1</option>
      </select>
    </div>
    <div class="form-group">
  	  <h2>Question 9</h2>
  	  <label for="q9">You often get so lost in thoughts that you ignore or forget your surroundings.</label>
      <select class="form-control" id="q9">
      	<option>5</option>
      	<option>4</option>
      	<option>3</option>
      	<option>2</option>
      	<option>1</option>
      </select>
    </div>
    <div class="form-group">
  	  <h2>Question 10</h2>
  	  <label for="q10">Winning a debate matters less to you than making sure no one gets upset.</label>
      <select class="form-control" id="q10">
      	<option>5</option>
      	<option>4</option>
      	<option>3</option>
      	<option>2</option>
      	<option>1</option>
      </select>
    </div>
    <button type="submit" id="submit" class="btn btn-primary">Submit</button>
  </form>
  <br>
  <br>
  <br>
  </div>

  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

  <!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">
  $("#submit").on("click", function(event) {
    event.preventDefault();
    // Here we grab the form elements

    var newFriend = {
      name: $("#name").val().trim(),
      photo: $("#photo").val().trim(),
      scores: []
    };

    newFriend.scores.push($("#q1").val());
    newFriend.scores.push($("#q2").val());
    newFriend.scores.push($("#q3").val());
    newFriend.scores.push($("#q4").val());
    newFriend.scores.push($("#q5").val());
    newFriend.scores.push($("#q6").val());
    newFriend.scores.push($("#q7").val());
    newFriend.scores.push($("#q8").val());
    newFriend.scores.push($("#q9").val());
    newFriend.scores.push($("#q10").val());

    // console.log(newFriend);

// $.ajax({
//   type: 'POST',
//   data: JSON.stringify(newFriend),
//   contentType: 'application/json',
//   url: '/api/friends'
// });
   
    $.post("/api/friends", newFriend)
    .done(function(data) {
   	  console.log(data);
    });
  });

</script>
</body>

</html>